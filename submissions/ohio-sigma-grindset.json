{
  "title": "OHIO SIGMA GRINDSET",
  "author": "favstats",
  "theme": "All memes combine: Skibidi rizz gyatt Ohio and you must navigate the chaos",
  "genre": "NPC behavior puzzle",
  "twist": "Sigma grindset music never stops",
  "difficulty": "brainrot",
  "description": "You're trapped in Ohio (the meme version) and must escape by navigating through NPCs using your sigma grindset techniques. Each NPC type requires a specific counter-move.",
  "submitted": "2025-12-14",
  "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>OHIO SIGMA GRINDSET - Escape the Brainrot</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js\"></script>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        body {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            min-height: 100vh;\n            background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2a 50%, #0a1a0a 100%);\n            font-family: 'Impact', 'Arial Black', sans-serif;\n            overflow: hidden;\n        }\n        #game-container {\n            position: relative;\n            border-radius: 8px;\n            box-shadow: 0 0 50px rgba(255, 0, 100, 0.3), 0 0 100px rgba(0, 255, 255, 0.2);\n        }\n        canvas {\n            display: block;\n            border-radius: 8px;\n        }\n        #overlay {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.92);\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            color: white;\n            border-radius: 8px;\n            z-index: 100;\n            padding: 20px;\n            text-align: center;\n        }\n        #overlay.hidden {\n            display: none;\n        }\n        .title {\n            font-size: 2.8em;\n            margin-bottom: 5px;\n            background: linear-gradient(90deg, #ff0066, #00ffff, #ff0066);\n            background-size: 200% auto;\n            -webkit-background-clip: text;\n            -webkit-text-fill-color: transparent;\n            animation: shimmer 2s linear infinite;\n        }\n        @keyframes shimmer {\n            0% { background-position: 0% center; }\n            100% { background-position: 200% center; }\n        }\n        .subtitle {\n            font-size: 1.3em;\n            color: #ff6600;\n            margin-bottom: 20px;\n            font-style: italic;\n        }\n        .instructions-grid {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 10px;\n            margin: 15px 0;\n            width: 100%;\n            max-width: 800px;\n        }\n        .npc-card {\n            background: rgba(255, 255, 255, 0.05);\n            border: 2px solid;\n            border-radius: 10px;\n            padding: 12px;\n        }\n        .npc-card.skibidi { border-color: #ff0066; }\n        .npc-card.rizz { border-color: #ff00ff; }\n        .npc-card.gyatt { border-color: #ffaa00; }\n        .npc-card.ohio { border-color: #00ff00; }\n        .npc-card h3 {\n            font-size: 1.1em;\n            margin-bottom: 5px;\n        }\n        .npc-card p {\n            font-size: 0.85em;\n            color: #aaa;\n            font-family: Arial, sans-serif;\n        }\n        .controls-box {\n            background: rgba(0, 255, 255, 0.1);\n            border: 2px solid #00ffff;\n            border-radius: 10px;\n            padding: 15px 25px;\n            margin: 15px 0;\n        }\n        .controls-box h3 {\n            color: #00ffff;\n            margin-bottom: 10px;\n        }\n        .key {\n            display: inline-block;\n            background: linear-gradient(180deg, #333 0%, #111 100%);\n            padding: 5px 12px;\n            border-radius: 5px;\n            margin: 3px;\n            border: 2px solid #555;\n            font-weight: bold;\n        }\n        .key.move { border-color: #00ff00; color: #00ff00; }\n        .key.action { border-color: #ff0066; color: #ff0066; }\n        #start-btn, #restart-btn {\n            background: linear-gradient(180deg, #ff0066 0%, #aa0044 100%);\n            color: white;\n            border: none;\n            padding: 15px 50px;\n            font-size: 1.4em;\n            font-family: 'Impact', sans-serif;\n            border-radius: 30px;\n            cursor: pointer;\n            margin-top: 15px;\n            box-shadow: 0 5px 0 #660022, 0 0 30px rgba(255, 0, 102, 0.5);\n            transition: all 0.1s;\n            text-transform: uppercase;\n            letter-spacing: 2px;\n        }\n        #start-btn:hover, #restart-btn:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 8px 0 #660022, 0 0 50px rgba(255, 0, 102, 0.7);\n        }\n        #start-btn:active, #restart-btn:active {\n            transform: translateY(3px);\n            box-shadow: 0 2px 0 #660022;\n        }\n        #help-btn {\n            position: absolute;\n            top: 10px;\n            right: 10px;\n            background: rgba(0, 0, 0, 0.7);\n            color: #00ffff;\n            border: 2px solid #00ffff;\n            padding: 8px 15px;\n            border-radius: 20px;\n            cursor: pointer;\n            font-family: 'Impact', sans-serif;\n            z-index: 50;\n        }\n        .warning {\n            color: #ff6600;\n            font-size: 0.9em;\n            margin-top: 10px;\n        }\n        .result-icon {\n            font-size: 4em;\n            margin-bottom: 10px;\n        }\n        .stats {\n            font-size: 1.2em;\n            color: #00ffff;\n            margin: 15px 0;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"game-container\">\n        <div id=\"overlay\">\n            <div class=\"title\">üóø OHIO SIGMA GRINDSET üóø</div>\n            <div class=\"subtitle\">Escape the Brainrot - Navigate the Chaos</div>\n            \n            <div class=\"instructions-grid\">\n                <div class=\"npc-card skibidi\">\n                    <h3>üöΩ SKIBIDI</h3>\n                    <p>Erratic dancers. Use <strong>MOG</strong> to assert dominance!</p>\n                </div>\n                <div class=\"npc-card rizz\">\n                    <h3>üíã RIZZ</h3>\n                    <p>Trying to charm you. <strong>IGNORE</strong> their advances!</p>\n                </div>\n                <div class=\"npc-card gyatt\">\n                    <h3>üçë GYATT</h3>\n                    <p>Creates shockwaves. <strong>GRIND</strong> right through!</p>\n                </div>\n            </div>\n            \n            <div class=\"controls-box\">\n                <h3>‚å®Ô∏è SIGMA CONTROLS</h3>\n                <p>\n                    <span class=\"key move\">WASD</span> or <span class=\"key move\">ARROWS</span> Move\n                    &nbsp;‚Ä¢&nbsp;\n                    <span class=\"key action\">1</span> MOG\n                    &nbsp;\n                    <span class=\"key action\">2</span> IGNORE  \n                    &nbsp;\n                    <span class=\"key action\">3</span> GRIND\n                </p>\n                <p style=\"margin-top: 8px; color: #aaa; font-family: Arial;\">\n                    Reach the EXIT üö™ on each level! Use the RIGHT action on each NPC type!\n                </p>\n            </div>\n            \n            <p class=\"warning\">‚ö†Ô∏è WRONG ACTION = LOSE A LIFE ‚Ä¢ 3 LIVES TOTAL ‚ö†Ô∏è</p>\n            \n            <button id=\"start-btn\">üî• START GRINDING üî•</button>\n        </div>\n        <button id=\"help-btn\" class=\"hidden\">‚ùì HELP</button>\n    </div>\n\n    <script>\n        // ===== GAME CONSTANTS =====\n        const GAME_WIDTH = 900;\n        const GAME_HEIGHT = 650;\n        const TILE_SIZE = 50;\n        const PLAYER_SPEED = 4;\n        \n        // ===== GAME STATE =====\n        let gameState = 'menu';\n        let currentLevel = 0;\n        let lives = 3;\n        let score = 0;\n        let player;\n        let npcs = [];\n        let exit;\n        let particles = [];\n        let floatingTexts = [];\n        let currentAction = null;\n        let actionTimer = 0;\n        let screenShake = 0;\n        let levelTransition = 0;\n        let sigmaLevel = 0;\n        \n        // ===== AUDIO CONTEXT FOR SIGMA MUSIC =====\n        let audioCtx;\n        let isPlaying = false;\n        let bassOsc, leadOsc, hihatGain;\n        let beatCount = 0;\n        \n        function initAudio() {\n            if (audioCtx) return;\n            audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n            \n            // Master gain\n            const masterGain = audioCtx.createGain();\n            masterGain.gain.value = 0.3;\n            masterGain.connect(audioCtx.destination);\n            \n            // Bass oscillator\n            bassOsc = audioCtx.createOscillator();\n            bassOsc.type = 'sawtooth';\n            bassOsc.frequency.value = 55;\n            const bassGain = audioCtx.createGain();\n            bassGain.gain.value = 0.4;\n            const bassFilter = audioCtx.createBiquadFilter();\n            bassFilter.type = 'lowpass';\n            bassFilter.frequency.value = 200;\n            bassOsc.connect(bassFilter);\n            bassFilter.connect(bassGain);\n            bassGain.connect(masterGain);\n            \n            // Lead oscillator\n            leadOsc = audioCtx.createOscillator();\n            leadOsc.type = 'square';\n            leadOsc.frequency.value = 220;\n            const leadGain = audioCtx.createGain();\n            leadGain.gain.value = 0.15;\n            leadOsc.connect(leadGain);\n            leadGain.connect(masterGain);\n            \n            // Start oscillators\n            bassOsc.start();\n            leadOsc.start();\n            \n            isPlaying = true;\n            \n            // Sigma beat pattern\n            setInterval(() => {\n                if (!isPlaying || gameState === 'menu') return;\n                \n                const now = audioCtx.currentTime;\n                const bassNotes = [55, 55, 73.4, 55, 82.4, 55, 73.4, 55];\n                const leadNotes = [220, 0, 293.7, 0, 349.2, 329.6, 293.7, 0];\n                \n                bassOsc.frequency.setValueAtTime(bassNotes[beatCount % 8], now);\n                if (leadNotes[beatCount % 8] > 0) {\n                    leadOsc.frequency.setValueAtTime(leadNotes[beatCount % 8], now);\n                }\n                \n                beatCount++;\n            }, 180);\n        }\n        \n        // ===== LEVELS =====\n        const LEVELS = [\n            {\n                name: \"WELCOME TO OHIO\",\n                layout: [\n                    \"##################\",\n                    \"#P               #\",\n                    \"#                #\",\n                    \"#     S          #\",\n                    \"#                #\",\n                    \"#               E#\",\n                    \"##################\"\n                ],\n                tutorial: \"Use MOG (1) on Skibidi!\"\n            },\n            {\n                name: \"RIZZ CHECK\",\n                layout: [\n                    \"##################\",\n                    \"#P       R       #\",\n                    \"#                #\",\n                    \"#   R       R    #\",\n                    \"#                #\",\n                    \"#        R      E#\",\n                    \"##################\"\n                ],\n                tutorial: \"IGNORE (2) the Rizz!\"\n            },\n            {\n                name: \"GYATT DAMN\",\n                layout: [\n                    \"##################\",\n                    \"#P               #\",\n                    \"#     G          #\",\n                    \"#          G     #\",\n                    \"#     G          #\",\n                    \"#               E#\",\n                    \"##################\"\n                ],\n                tutorial: \"GRIND (3) through Gyatt!\"\n            },\n            {\n                name: \"OHIO CHAOS\",\n                layout: [\n                    \"##################\",\n                    \"#P   S     R     #\",\n                    \"#                #\",\n                    \"# G    S    G    #\",\n                    \"#       R        #\",\n                    \"#  S       R    E#\",\n                    \"##################\"\n                ],\n                tutorial: \"Mix it up! Remember your moves!\"\n            },\n            {\n                name: \"FINAL GRIND\",\n                layout: [\n                    \"##################\",\n                    \"#P S  R  G  S  R #\",\n                    \"#                #\",\n                    \"# G  S  R  G  S  #\",\n                    \"#                #\",\n                    \"# R  G  S  R  G E#\",\n                    \"##################\"\n                ],\n                tutorial: \"ULTIMATE SIGMA TEST!\"\n            }\n        ];\n        \n        // ===== CLASSES =====\n        class Player {\n            constructor(x, y) {\n                this.x = x;\n                this.y = y;\n                this.size = 40;\n                this.vx = 0;\n                this.vy = 0;\n                this.bobOffset = 0;\n            }\n            \n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                this.bobOffset += 0.15;\n                \n                // Wall collision (adjusted for level bounds)\n                this.x = constrain(this.x, TILE_SIZE, GAME_WIDTH - TILE_SIZE - this.size);\n                this.y = constrain(this.y, TILE_SIZE + 70, GAME_HEIGHT - TILE_SIZE);\n            }\n            \n            draw() {\n                push();\n                translate(this.x + this.size/2, this.y + this.size/2);\n                let bob = sin(this.bobOffset) * 3;\n                translate(0, bob);\n                \n                // Sigma glow when action active\n                if (actionTimer > 0) {\n                    let glowColor;\n                    if (currentAction === 'mog') glowColor = color(255, 0, 102, 100);\n                    else if (currentAction === 'ignore') glowColor = color(0, 255, 255, 100);\n                    else if (currentAction === 'grind') glowColor = color(255, 170, 0, 100);\n                    \n                    fill(glowColor);\n                    noStroke();\n                    ellipse(0, 0, this.size + 30 + sin(frameCount * 0.3) * 10);\n                }\n                \n                // Body\n                fill(50, 50, 50);\n                stroke(0);\n                strokeWeight(2);\n                ellipse(0, 0, this.size, this.size);\n                \n                // Sigma face üóø\n                fill(180, 160, 140);\n                noStroke();\n                ellipse(0, -2, 30, 35);\n                \n                // Eyes (determined sigma stare)\n                fill(0);\n                rect(-8, -8, 6, 4);\n                rect(2, -8, 6, 4);\n                \n                // Strong jaw\n                fill(160, 140, 120);\n                beginShape();\n                vertex(-10, 5);\n                vertex(0, 15);\n                vertex(10, 5);\n                endShape(CLOSE);\n                \n                // Action indicator\n                if (actionTimer > 0) {\n                    fill(255);\n                    textSize(14);\n                    textAlign(CENTER, CENTER);\n                    let actionText = currentAction.toUpperCase();\n                    text(actionText, 0, -35);\n                }\n                \n                pop();\n            }\n        }\n        \n        class NPC {\n            constructor(x, y, type) {\n                this.x = x;\n                this.y = y;\n                this.type = type;\n                this.size = 45;\n                this.phase = random(TWO_PI);\n                this.defeated = false;\n                this.defeatTimer = 0;\n                this.alertLevel = 0;\n            }\n            \n            getWeakness() {\n                if (this.type === 'skibidi') return 'mog';\n                if (this.type === 'rizz') return 'ignore';\n                if (this.type === 'gyatt') return 'grind';\n                return null;\n            }\n            \n            update() {\n                if (this.defeated) {\n                    this.defeatTimer++;\n                    return this.defeatTimer > 30;\n                }\n                \n                this.phase += 0.05;\n                \n                // Different movement patterns\n                if (this.type === 'skibidi') {\n                    this.x += sin(this.phase * 3) * 2;\n                    this.y += cos(this.phase * 2) * 1;\n                } else if (this.type === 'rizz') {\n                    // Moves toward player slowly\n                    let dx = player.x - this.x;\n                    let dy = player.y - this.y;\n                    let dist = sqrt(dx*dx + dy*dy);\n                    if (dist > 100) {\n                        this.x += (dx / dist) * 0.5;\n                        this.y += (dy / dist) * 0.5;\n                    }\n                } else if (this.type === 'gyatt') {\n                    this.y += sin(this.phase) * 0.5;\n                }\n                \n                // Check proximity to player\n                let dist = dist2D(this.x, this.y, player.x, player.y);\n                if (dist < 80) {\n                    this.alertLevel = min(1, this.alertLevel + 0.05);\n                } else {\n                    this.alertLevel = max(0, this.alertLevel - 0.02);\n                }\n                \n                return false;\n            }\n            \n            draw() {\n                push();\n                translate(this.x + this.size/2, this.y + this.size/2);\n                \n                if (this.defeated) {\n                    let alpha = map(this.defeatTimer, 0, 30, 255, 0);\n                    let scl = map(this.defeatTimer, 0, 30, 1, 1.5);\n                    this.drawNPC(alpha, scl);\n                } else {\n                    // Alert indicator\n                    if (this.alertLevel > 0) {\n                        noFill();\n                        stroke(255, 0, 0, this.alertLevel * 200);\n                        strokeWeight(3);\n                        ellipse(0, 0, this.size + 20 + sin(frameCount * 0.3) * 5);\n                    }\n                    this.drawNPC(255, 1);\n                }\n                \n                pop();\n            }\n            \n            drawNPC(alpha, scl) {\n                push();\n                scale(scl);\n                \n                if (this.type === 'skibidi') {\n                    // Skibidi toilet\n                    let wobble = sin(this.phase * 5) * 10;\n                    rotate(radians(wobble));\n                    \n                    // Toilet base\n                    fill(240, 240, 240, alpha);\n                    stroke(0, alpha);\n                    strokeWeight(2);\n                    ellipse(0, 10, 40, 25);\n                    rect(-15, -5, 30, 20, 5);\n                    \n                    // Head\n                    fill(255, 200, 180, alpha);\n                    ellipse(0, -15, 30, 30);\n                    \n                    // Eyes (spiral crazy)\n                    fill(0, alpha);\n                    ellipse(-6, -18, 8, 8);\n                    ellipse(6, -18, 8, 8);\n                    fill(255, alpha);\n                    ellipse(-6 + sin(this.phase * 3) * 2, -18, 3, 3);\n                    ellipse(6 + sin(this.phase * 3) * 2, -18, 3, 3);\n                    \n                    // Mouth\n                    fill(0, alpha);\n                    ellipse(0, -8, 12, 8);\n                    \n                } else if (this.type === 'rizz') {\n                    // Rizz character\n                    let charm = sin(this.phase * 2) * 5;\n                    \n                    // Body\n                    fill(255, 100, 200, alpha);\n                    stroke(0, alpha);\n                    strokeWeight(2);\n                    ellipse(0, 5, 35, 40);\n                    \n                    // Face\n                    fill(255, 220, 200, alpha);\n                    ellipse(0, -10, 30, 30);\n                    \n                    // Rizz eyes (heart shaped)\n                    fill(255, 0, 100, alpha);\n                    textSize(12);\n                    noStroke();\n                    text(\"‚ô•\", -8, -8);\n                    text(\"‚ô•\", 4, -8);\n                    \n                    // Smirk\n                    noFill();\n                    stroke(0, alpha);\n                    strokeWeight(2);\n                    arc(0, -3, 15, 10, 0.2, PI - 0.2);\n                    \n                    // Sparkles\n                    fill(255, 255, 0, alpha * abs(sin(this.phase * 3)));\n                    noStroke();\n                    textSize(15);\n                    text(\"‚ú®\", 18 + charm, -20);\n                    text(\"‚ú®\", -25 + charm, -15);\n                    \n                } else if (this.type === 'gyatt') {\n                    // Gyatt (thicc energy)\n                    let pulse = sin(this.phase * 2) * 3;\n                    \n                    // Shockwave rings\n                    noFill();\n                    stroke(255, 170, 0, alpha * 0.3);\n                    strokeWeight(3);\n                    ellipse(0, 0, 60 + pulse * 3, 60 + pulse * 3);\n                    ellipse(0, 0, 80 + pulse * 3, 80 + pulse * 3);\n                    \n                    // Body\n                    fill(255, 170, 0, alpha);\n                    stroke(0, alpha);\n                    strokeWeight(2);\n                    ellipse(0, 5, 45 + pulse, 50 + pulse);\n                    \n                    // Face\n                    fill(255, 220, 200, alpha);\n                    ellipse(0, -10, 28, 28);\n                    \n                    // Sunglasses\n                    fill(0, alpha);\n                    noStroke();\n                    rect(-12, -14, 10, 7, 2);\n                    rect(2, -14, 10, 7, 2);\n                    rect(-2, -12, 4, 3);\n                    \n                    // Mouth\n                    stroke(0, alpha);\n                    noFill();\n                    arc(0, -4, 10, 8, 0, PI);\n                    \n                    // GYATT text\n                    fill(255, 100, 0, alpha);\n                    noStroke();\n                    textSize(10);\n                    textAlign(CENTER);\n                    text(\"GYATT\", 0, 30);\n                }\n                \n                pop();\n            }\n            \n            checkCollision(px, py) {\n                if (this.defeated) return false;\n                let d = dist2D(this.x + this.size/2, this.y + this.size/2, px + player.size/2, py + player.size/2);\n                return d < (this.size + player.size) / 2 - 10;\n            }\n        }\n        \n        class Particle {\n            constructor(x, y, color, emoji = null) {\n                this.x = x;\n                this.y = y;\n                this.color = color;\n                this.emoji = emoji;\n                this.vx = random(-4, 4);\n                this.vy = random(-6, -2);\n                this.life = 40;\n                this.maxLife = 40;\n                this.size = random(8, 20);\n                this.rotation = random(TWO_PI);\n                this.rotSpeed = random(-0.2, 0.2);\n            }\n            \n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                this.vy += 0.2;\n                this.rotation += this.rotSpeed;\n                this.life--;\n                return this.life <= 0;\n            }\n            \n            draw() {\n                let alpha = (this.life / this.maxLife) * 255;\n                push();\n                translate(this.x, this.y);\n                rotate(this.rotation);\n                \n                if (this.emoji) {\n                    textSize(this.size);\n                    textAlign(CENTER, CENTER);\n                    text(this.emoji, 0, 0);\n                } else {\n                    noStroke();\n                    fill(red(this.color), green(this.color), blue(this.color), alpha);\n                    ellipse(0, 0, this.size);\n                }\n                pop();\n            }\n        }\n        \n        class FloatingText {\n            constructor(x, y, text, color, size = 24) {\n                this.x = x;\n                this.y = y;\n                this.text = text;\n                this.color = color;\n                this.size = size;\n                this.life = 50;\n                this.maxLife = 50;\n            }\n            \n            update() {\n                this.y -= 1.5;\n                this.life--;\n                return this.life <= 0;\n            }\n            \n            draw() {\n                let alpha = (this.life / this.maxLife) * 255;\n                let scl = map(this.life, this.maxLife, 0, 1, 1.3);\n                push();\n                translate(this.x, this.y);\n                scale(scl);\n                textSize(this.size);\n                textAlign(CENTER, CENTER);\n                fill(red(this.color), green(this.color), blue(this.color), alpha);\n                stroke(0, alpha);\n                strokeWeight(3);\n                text(this.text, 0, 0);\n                pop();\n            }\n        }\n        \n        // ===== HELPER FUNCTIONS =====\n        function dist2D(x1, y1, x2, y2) {\n            return sqrt((x2-x1)**2 + (y2-y1)**2);\n        }\n        \n        function loadLevel(levelIndex) {\n            npcs = [];\n            particles = [];\n            floatingTexts = [];\n            exit = null;\n            \n            let level = LEVELS[levelIndex];\n            let layout = level.layout;\n            \n            for (let row = 0; row < layout.length; row++) {\n                for (let col = 0; col < layout[row].length; col++) {\n                    let char = layout[row][col];\n                    let x = col * TILE_SIZE;\n                    let y = row * TILE_SIZE + 70;\n                    \n                    if (char === 'P') {\n                        player = new Player(x + 5, y + 5);\n                    } else if (char === 'S') {\n                        npcs.push(new NPC(x, y, 'skibidi'));\n                    } else if (char === 'R') {\n                        npcs.push(new NPC(x, y, 'rizz'));\n                    } else if (char === 'G') {\n                        npcs.push(new NPC(x, y, 'gyatt'));\n                    } else if (char === 'E') {\n                        exit = { x: x, y: y };\n                    }\n                }\n            }\n            \n            levelTransition = 60;\n        }\n        \n        // ===== P5.JS SETUP =====\n        function setup() {\n            let canvas = createCanvas(GAME_WIDTH, GAME_HEIGHT);\n            canvas.parent('game-container');\n            textFont('Impact, Arial Black, sans-serif');\n            \n            document.getElementById('start-btn').addEventListener('click', startGame);\n            document.getElementById('help-btn').addEventListener('click', showHelp);\n        }\n        \n        function startGame() {\n            initAudio();\n            gameState = 'playing';\n            currentLevel = 0;\n            lives = 3;\n            score = 0;\n            sigmaLevel = 0;\n            loadLevel(0);\n            \n            document.getElementById('overlay').classList.add('hidden');\n            document.getElementById('help-btn').classList.remove('hidden');\n        }\n        \n        function showHelp() {\n            gameState = 'paused';\n            document.getElementById('overlay').classList.remove('hidden');\n            document.getElementById('start-btn').textContent = 'üî• RESUME üî•';\n        }\n        \n        function showEndScreen(won) {\n            gameState = 'end';\n            let overlay = document.getElementById('overlay');\n            overlay.classList.remove('hidden');\n            document.getElementById('help-btn').classList.add('hidden');\n            \n            if (won) {\n                overlay.innerHTML = `\n                    <div class=\"result-icon\">üóøüëë</div>\n                    <div class=\"title\">ULTIMATE SIGMA</div>\n                    <div class=\"subtitle\">You've escaped Ohio!</div>\n                    <div class=\"stats\">\n                        üíØ Sigma Level: ${sigmaLevel}<br>\n                        ‚ù§Ô∏è Lives Remaining: ${lives}<br>\n                        üèÜ TRUE GRINDSET ACHIEVED\n                    </div>\n                    <p style=\"color: #aaa;\">The grind never stops... but you've earned a break.</p>\n                    <button id=\"restart-btn\" onclick=\"location.reload()\">üî• GRIND AGAIN üî•</button>\n                `;\n            } else {\n                overlay.innerHTML = `\n                    <div class=\"result-icon\">üíÄ</div>\n                    <div class=\"title\" style=\"color: #ff0000;\">SKILL ISSUE</div>\n                    <div class=\"subtitle\">Ohio claimed another victim...</div>\n                    <div class=\"stats\">\n                        üìä Level Reached: ${currentLevel + 1}/5<br>\n                        üíØ Sigma Level: ${sigmaLevel}<br>\n                        üòî Not Sigma Enough\n                    </div>\n                    <p style=\"color: #aaa;\">The grind demands more dedication.</p>\n                    <button id=\"restart-btn\" onclick=\"location.reload()\">üî• TRY AGAIN üî•</button>\n                `;\n            }\n        }\n        \n        // ===== MAIN DRAW LOOP =====\n        function draw() {\n            if (gameState === 'menu' || gameState === 'paused') {\n                drawGame();\n                return;\n            }\n            \n            if (gameState === 'playing') {\n                updateGame();\n            }\n            \n            drawGame();\n        }\n        \n        function updateGame() {\n            // Handle input\n            player.vx = 0;\n            player.vy = 0;\n            \n            if (keyIsDown(LEFT_ARROW) || keyIsDown(65)) player.vx = -PLAYER_SPEED;\n            if (keyIsDown(RIGHT_ARROW) || keyIsDown(68)) player.vx = PLAYER_SPEED;\n            if (keyIsDown(UP_ARROW) || keyIsDown(87)) player.vy = -PLAYER_SPEED;\n            if (keyIsDown(DOWN_ARROW) || keyIsDown(83)) player.vy = PLAYER_SPEED;\n            \n            // Normalize diagonal movement\n            if (player.vx !== 0 && player.vy !== 0) {\n                player.vx *= 0.707;\n                player.vy *= 0.707;\n            }\n            \n            player.update();\n            \n            // Update action timer\n            if (actionTimer > 0) actionTimer--;\n            \n            // Update NPCs\n            for (let i = npcs.length - 1; i >= 0; i--) {\n                let npc = npcs[i];\n                let shouldRemove = npc.update();\n                \n                if (shouldRemove) {\n                    npcs.splice(i, 1);\n                    continue;\n                }\n                \n                // Check collision with player\n                if (npc.checkCollision(player.x, player.y)) {\n                    if (actionTimer > 0 && currentAction === npc.getWeakness()) {\n                        // Correct action!\n                        npc.defeated = true;\n                        score += 100;\n                        sigmaLevel++;\n                        screenShake = 10;\n                        \n                        // Particles\n                        for (let j = 0; j < 15; j++) {\n                            let emojis = ['üî•', 'üíØ', 'üóø', '‚ú®'];\n                            particles.push(new Particle(npc.x + npc.size/2, npc.y + npc.size/2, \n                                color(255, 200, 0), random(emojis)));\n                        }\n                        \n                        floatingTexts.push(new FloatingText(npc.x + npc.size/2, npc.y, \n                            \"SIGMA!\", color(255, 200, 0), 28));\n                        \n                    } else if (actionTimer > 0) {\n                        // Wrong action!\n                        loseLife(\"WRONG MOVE!\");\n                    } else {\n                        // No action - damage\n                        loseLife(\"USE AN ACTION!\");\n                    }\n                }\n            }\n            \n            // Check exit\n            if (exit) {\n                let d = dist2D(player.x + player.size/2, player.y + player.size/2, \n                               exit.x + TILE_SIZE/2, exit.y + TILE_SIZE/2);\n                if (d < 40 && npcs.filter(n => !n.defeated).length === 0) {\n                    currentLevel++;\n                    if (currentLevel >= LEVELS.length) {\n                        showEndScreen(true);\n                    } else {\n                        loadLevel(currentLevel);\n                    }\n                }\n            }\n            \n            // Update particles\n            for (let i = particles.length - 1; i >= 0; i--) {\n                if (particles[i].update()) particles.splice(i, 1);\n            }\n            \n            // Update floating texts\n            for (let i = floatingTexts.length - 1; i >= 0; i--) {\n                if (floatingTexts[i].update()) floatingTexts.splice(i, 1);\n            }\n            \n            // Decay screen shake\n            screenShake *= 0.9;\n            \n            // Level transition\n            if (levelTransition > 0) levelTransition--;\n        }\n        \n        function loseLife(reason) {\n            lives--;\n            screenShake = 15;\n            \n            floatingTexts.push(new FloatingText(player.x + player.size/2, player.y - 30, \n                reason, color(255, 50, 50), 20));\n            \n            for (let i = 0; i < 10; i++) {\n                particles.push(new Particle(player.x + player.size/2, player.y + player.size/2, \n                    color(255, 0, 0)));\n            }\n            \n            // Reset NPCs (this also resets player position)\n            loadLevel(currentLevel);\n            \n            if (lives <= 0) {\n                showEndScreen(false);\n            }\n        }\n        \n        function drawGame() {\n            push();\n            \n            // Screen shake\n            if (screenShake > 0.5) {\n                translate(random(-screenShake, screenShake), random(-screenShake, screenShake));\n            }\n            \n            // Background\n            drawBackground();\n            \n            // Exit\n            if (exit) {\n                drawExit();\n            }\n            \n            // NPCs\n            for (let npc of npcs) {\n                npc.draw();\n            }\n            \n            // Player\n            if (player) {\n                player.draw();\n            }\n            \n            // Particles\n            for (let p of particles) {\n                p.draw();\n            }\n            \n            // Floating texts\n            for (let ft of floatingTexts) {\n                ft.draw();\n            }\n            \n            pop();\n            \n            // UI (not affected by shake)\n            drawUI();\n            \n            // Level transition overlay\n            if (levelTransition > 0) {\n                fill(0, 0, 0, map(levelTransition, 0, 60, 0, 200));\n                noStroke();\n                rect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n                \n                if (levelTransition > 30) {\n                    fill(255);\n                    textSize(32);\n                    textAlign(CENTER, CENTER);\n                    text(LEVELS[currentLevel].name, GAME_WIDTH/2, GAME_HEIGHT/2 - 20);\n                    textSize(18);\n                    fill(200);\n                    text(LEVELS[currentLevel].tutorial, GAME_WIDTH/2, GAME_HEIGHT/2 + 20);\n                }\n            }\n        }\n        \n        function drawBackground() {\n            // Ohio sky gradient (cursed)\n            for (let y = 0; y < GAME_HEIGHT; y += 5) {\n                let inter = map(y, 0, GAME_HEIGHT, 0, 1);\n                let c = lerpColor(color(30, 10, 40), color(10, 20, 15), inter);\n                noStroke();\n                fill(c);\n                rect(0, y, GAME_WIDTH, 5);\n            }\n            \n            // Grid floor\n            stroke(50, 50, 70, 100);\n            strokeWeight(1);\n            for (let x = 0; x < GAME_WIDTH; x += TILE_SIZE) {\n                line(x, 70, x, GAME_HEIGHT);\n            }\n            for (let y = 70; y < GAME_HEIGHT; y += TILE_SIZE) {\n                line(0, y, GAME_WIDTH, y);\n            }\n            \n            // Ohio text watermark\n            fill(255, 255, 255, 10);\n            noStroke();\n            textSize(120);\n            textAlign(CENTER, CENTER);\n            text(\"OHIO\", GAME_WIDTH/2, GAME_HEIGHT/2 + 50);\n            \n            // Random floating meme text\n            fill(255, 255, 255, 20 + sin(frameCount * 0.02) * 10);\n            textSize(16);\n            let memes = [\"SKIBIDI\", \"RIZZ\", \"GYATT\", \"SIGMA\", \"OHIO\", \"üóø\", \"üíÄ\", \"NO CAP\"];\n            for (let i = 0; i < 5; i++) {\n                let x = (frameCount * 0.5 + i * 200) % (GAME_WIDTH + 100) - 50;\n                let y = 150 + i * 100 + sin(frameCount * 0.01 + i) * 20;\n                text(memes[i % memes.length], x, y);\n            }\n        }\n        \n        function drawExit() {\n            let pulse = sin(frameCount * 0.1) * 5;\n            let allDefeated = npcs.filter(n => !n.defeated).length === 0;\n            \n            push();\n            translate(exit.x + TILE_SIZE/2, exit.y + TILE_SIZE/2);\n            \n            // Glow\n            if (allDefeated) {\n                fill(0, 255, 100, 50 + sin(frameCount * 0.2) * 30);\n                noStroke();\n                ellipse(0, 0, 80 + pulse, 80 + pulse);\n            }\n            \n            // Door\n            fill(allDefeated ? color(50, 200, 100) : color(100, 100, 100));\n            stroke(0);\n            strokeWeight(3);\n            rect(-20, -25, 40, 50, 5);\n            \n            // Doorknob\n            fill(allDefeated ? 255 : 150);\n            ellipse(12, 5, 8, 8);\n            \n            // EXIT text\n            fill(255);\n            noStroke();\n            textSize(12);\n            textAlign(CENTER, CENTER);\n            text(\"EXIT\", 0, -35);\n            \n            if (!allDefeated) {\n                fill(255, 100, 100);\n                textSize(10);\n                text(\"üîí DEFEAT ALL NPCs\", 0, 35);\n            }\n            \n            pop();\n        }\n        \n        function drawUI() {\n            // Top bar\n            fill(0, 0, 0, 200);\n            noStroke();\n            rect(0, 0, GAME_WIDTH, 65);\n            \n            // Level name\n            fill(255, 0, 102);\n            textSize(20);\n            textAlign(LEFT, CENTER);\n            text(`LEVEL ${currentLevel + 1}: ${LEVELS[currentLevel]?.name || ''}`, 20, 22);\n            \n            // Tutorial hint\n            fill(150);\n            textSize(14);\n            text(LEVELS[currentLevel]?.tutorial || '', 20, 48);\n            \n            // Lives\n            fill(255);\n            textSize(22);\n            textAlign(RIGHT, CENTER);\n            let hearts = '‚ù§Ô∏è'.repeat(lives) + 'üñ§'.repeat(3 - lives);\n            text(hearts, GAME_WIDTH - 20, 22);\n            \n            // Sigma level\n            fill(0, 255, 255);\n            textSize(16);\n            text(`SIGMA: ${sigmaLevel}`, GAME_WIDTH - 20, 48);\n            \n            // Action buttons display\n            let actionY = GAME_HEIGHT - 45;\n            let actionBoxWidth = 140;\n            let startX = GAME_WIDTH/2 - (actionBoxWidth * 1.5 + 20);\n            \n            // MOG\n            drawActionButton(startX, actionY, \"1: MOG\", color(255, 0, 102), currentAction === 'mog' && actionTimer > 0);\n            // IGNORE\n            drawActionButton(startX + actionBoxWidth + 10, actionY, \"2: IGNORE\", color(0, 255, 255), currentAction === 'ignore' && actionTimer > 0);\n            // GRIND\n            drawActionButton(startX + (actionBoxWidth + 10) * 2, actionY, \"3: GRIND\", color(255, 170, 0), currentAction === 'grind' && actionTimer > 0);\n            \n            // NPC counter\n            let remaining = npcs.filter(n => !n.defeated).length;\n            fill(255);\n            textSize(16);\n            textAlign(CENTER, CENTER);\n            text(`NPCs: ${remaining}`, GAME_WIDTH/2, 22);\n        }\n        \n        function drawActionButton(x, y, label, col, active) {\n            push();\n            if (active) {\n                fill(red(col), green(col), blue(col), 50);\n                stroke(col);\n                strokeWeight(3);\n            } else {\n                fill(0, 0, 0, 150);\n                stroke(red(col), green(col), blue(col), 150);\n                strokeWeight(2);\n            }\n            rect(x, y, 130, 35, 8);\n            \n            fill(active ? 255 : color(red(col), green(col), blue(col)));\n            noStroke();\n            textSize(16);\n            textAlign(CENTER, CENTER);\n            text(label, x + 65, y + 17);\n            pop();\n        }\n        \n        // ===== INPUT HANDLERS =====\n        function keyPressed() {\n            if (gameState !== 'playing') {\n                if (key === ' ' && gameState === 'paused') {\n                    gameState = 'playing';\n                    document.getElementById('overlay').classList.add('hidden');\n                }\n                return;\n            }\n            \n            // Actions\n            if (key === '1') {\n                currentAction = 'mog';\n                actionTimer = 45;\n                screenShake = 3;\n                floatingTexts.push(new FloatingText(player.x + player.size/2, player.y - 20, \n                    \"üóø MOG!\", color(255, 0, 102), 22));\n            }\n            if (key === '2') {\n                currentAction = 'ignore';\n                actionTimer = 45;\n                floatingTexts.push(new FloatingText(player.x + player.size/2, player.y - 20, \n                    \"üòê IGNORE\", color(0, 255, 255), 22));\n            }\n            if (key === '3') {\n                currentAction = 'grind';\n                actionTimer = 45;\n                screenShake = 2;\n                floatingTexts.push(new FloatingText(player.x + player.size/2, player.y - 20, \n                    \"üí™ GRIND!\", color(255, 170, 0), 22));\n            }\n        }\n        \n        // Prevent arrow key scrolling\n        window.addEventListener('keydown', function(e) {\n            if ([32, 37, 38, 39, 40].includes(e.keyCode)) {\n                e.preventDefault();\n            }\n        });\n    </script>\n</body>\n</html>"
}
