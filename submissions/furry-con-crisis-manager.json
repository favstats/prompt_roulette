{
  "title": "FURRY CON CRISIS MANAGER",
  "author": "favstats",
  "theme": "You're a furry managing a furry con with lots of other furries (different animals)",
  "genre": "First-Person Shooter",
  "twist": "You are not actually a furry",
  "difficulty": "normal",
  "description": "You're Dave ‚Äî a totally normal human hired to manage FurryCon 2024. Problem: the attendees are getting dangerously hyped and chaos is rising! Armed with your trusty Hydration Cannon, blast water bottles at overheated furries (wolves, foxes, dragons, rabbits, and more) to cool them down before the convention descends into total mayhem.",
  "submitted": "2025-12-24",
  "html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>üéØ FURRY CON CRISIS MANAGER üéØ</title>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js\"></script>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { \n            overflow: hidden; \n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            background: #1a1a2e;\n            cursor: crosshair;\n        }\n        #gameCanvas { display: block; }\n        \n        /* HUD */\n        #hud {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            padding: 20px;\n            display: flex;\n            justify-content: space-between;\n            pointer-events: none;\n            z-index: 100;\n        }\n        .hud-panel {\n            background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(30,30,50,0.9));\n            border: 2px solid #ff6b9d;\n            border-radius: 15px;\n            padding: 15px 25px;\n            color: white;\n            box-shadow: 0 0 20px rgba(255,107,157,0.3);\n        }\n        .hud-label { font-size: 12px; color: #ff6b9d; text-transform: uppercase; letter-spacing: 2px; }\n        .hud-value { font-size: 28px; font-weight: bold; text-shadow: 0 0 10px currentColor; }\n        #score .hud-value { color: #4ade80; }\n        #chaos .hud-value { color: #f87171; }\n        #ammo .hud-value { color: #60a5fa; }\n        \n        /* Chaos Bar */\n        #chaosBar {\n            position: fixed;\n            top: 100px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 400px;\n            height: 30px;\n            background: rgba(0,0,0,0.7);\n            border: 3px solid #f87171;\n            border-radius: 15px;\n            overflow: hidden;\n            z-index: 100;\n        }\n        #chaosBarFill {\n            height: 100%;\n            background: linear-gradient(90deg, #fbbf24, #f87171, #dc2626);\n            transition: width 0.3s ease;\n            box-shadow: 0 0 20px #f87171;\n        }\n        #chaosLabel {\n            position: fixed;\n            top: 75px;\n            left: 50%;\n            transform: translateX(-50%);\n            color: #f87171;\n            font-size: 14px;\n            text-transform: uppercase;\n            letter-spacing: 3px;\n            z-index: 100;\n        }\n        \n        /* Crosshair */\n        #crosshair {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 40px;\n            height: 40px;\n            pointer-events: none;\n            z-index: 100;\n        }\n        #crosshair::before, #crosshair::after {\n            content: '';\n            position: absolute;\n            background: #4ade80;\n            box-shadow: 0 0 10px #4ade80;\n        }\n        #crosshair::before {\n            width: 20px; height: 3px;\n            top: 50%; left: 50%;\n            transform: translate(-50%, -50%);\n        }\n        #crosshair::after {\n            width: 3px; height: 20px;\n            top: 50%; left: 50%;\n            transform: translate(-50%, -50%);\n        }\n        \n        /* Hit marker */\n        .hit-marker {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 40px;\n            color: #4ade80;\n            pointer-events: none;\n            animation: hitPop 0.3s ease-out forwards;\n            z-index: 101;\n        }\n        @keyframes hitPop {\n            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }\n            100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }\n        }\n        \n        /* Message popup */\n        #message {\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 24px;\n            color: white;\n            text-align: center;\n            pointer-events: none;\n            opacity: 0;\n            transition: opacity 0.3s;\n            text-shadow: 0 0 20px rgba(0,0,0,0.8);\n            z-index: 102;\n        }\n        \n        /* Screens */\n        .screen {\n            position: fixed;\n            top: 0; left: 0;\n            width: 100%; height: 100%;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            z-index: 200;\n            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);\n        }\n        .screen.hidden { display: none; }\n        \n        .title {\n            font-size: 48px;\n            color: #ff6b9d;\n            text-shadow: 0 0 30px #ff6b9d;\n            margin-bottom: 10px;\n            animation: titlePulse 2s ease-in-out infinite;\n        }\n        @keyframes titlePulse {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n        }\n        \n        .subtitle {\n            font-size: 20px;\n            color: #a78bfa;\n            margin-bottom: 40px;\n        }\n        \n        .btn {\n            padding: 20px 60px;\n            font-size: 24px;\n            font-weight: bold;\n            color: white;\n            background: linear-gradient(135deg, #ff6b9d, #c026d3);\n            border: none;\n            border-radius: 50px;\n            cursor: pointer;\n            transition: all 0.3s;\n            box-shadow: 0 10px 30px rgba(255,107,157,0.4);\n            margin: 10px;\n        }\n        .btn:hover {\n            transform: translateY(-5px);\n            box-shadow: 0 15px 40px rgba(255,107,157,0.6);\n        }\n        \n        .instructions {\n            background: rgba(0,0,0,0.5);\n            border: 2px solid #a78bfa;\n            border-radius: 20px;\n            padding: 30px;\n            margin: 30px;\n            max-width: 600px;\n            color: white;\n            line-height: 1.8;\n        }\n        .instructions h3 {\n            color: #ff6b9d;\n            margin-bottom: 15px;\n            font-size: 22px;\n        }\n        .instructions .key {\n            display: inline-block;\n            background: #3b82f6;\n            padding: 3px 10px;\n            border-radius: 5px;\n            font-weight: bold;\n            margin: 0 3px;\n        }\n        \n        /* Win/Lose specific */\n        #winScreen .title { color: #4ade80; text-shadow: 0 0 30px #4ade80; }\n        #loseScreen .title { color: #f87171; text-shadow: 0 0 30px #f87171; }\n        \n        .final-score {\n            font-size: 36px;\n            color: #fbbf24;\n            margin: 20px;\n        }\n        \n        .twist-reveal {\n            font-size: 18px;\n            color: #a78bfa;\n            font-style: italic;\n            margin: 20px;\n            max-width: 500px;\n            text-align: center;\n            line-height: 1.6;\n        }\n        \n        /* Furry indicators */\n        #furryCount {\n            position: fixed;\n            bottom: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: rgba(0,0,0,0.8);\n            border: 2px solid #a78bfa;\n            border-radius: 15px;\n            padding: 15px 30px;\n            color: white;\n            z-index: 100;\n        }\n        \n        /* Damage flash */\n        #damageFlash {\n            position: fixed;\n            top: 0; left: 0;\n            width: 100%; height: 100%;\n            background: radial-gradient(circle, transparent 50%, rgba(255,0,0,0.3) 100%);\n            pointer-events: none;\n            opacity: 0;\n            transition: opacity 0.2s;\n            z-index: 99;\n        }\n        \n        /* Mini announcements */\n        .announcement {\n            position: fixed;\n            top: 150px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 28px;\n            color: #fbbf24;\n            text-shadow: 0 0 20px #fbbf24;\n            animation: announcePop 1.5s ease-out forwards;\n            z-index: 101;\n        }\n        @keyframes announcePop {\n            0% { transform: translateX(-50%) scale(0.5); opacity: 0; }\n            20% { transform: translateX(-50%) scale(1.2); opacity: 1; }\n            80% { transform: translateX(-50%) scale(1); opacity: 1; }\n            100% { transform: translateX(-50%) scale(1); opacity: 0; }\n        }\n    </style>\n</head>\n<body>\n    <div id=\"startScreen\" class=\"screen\">\n        <div class=\"title\">üéØ FURRY CON CRISIS MANAGER üéØ</div>\n        <div class=\"subtitle\">A First-Person Hydration Experience</div>\n        \n        <div class=\"instructions\">\n            <h3>üìã SITUATION BRIEFING</h3>\n            <p>You're <strong>Dave</strong>, a regular human hired to manage <strong>FurryCon 2024</strong>.</p>\n            <p>Problem: The furries are getting <strong>WAY too hyped</strong> and the convention is descending into chaos!</p>\n            <p>Your mission: Use your <strong>Hydration Cannon</strong> to cool down <strong>25 overheated furries</strong> before chaos reaches 100%!</p>\n            <br>\n            <h3>üéÆ CONTROLS</h3>\n            <p><span class=\"key\">W</span><span class=\"key\">A</span><span class=\"key\">S</span><span class=\"key\">D</span> - Move around</p>\n            <p><span class=\"key\">MOUSE</span> - Look around</p>\n            <p><span class=\"key\">LEFT CLICK</span> - Shoot water bottle</p>\n            <p><span class=\"key\">R</span> - Reload (auto-reloads too)</p>\n            <p><span class=\"key\">ESC</span> - Pause game</p>\n        </div>\n        \n        <button class=\"btn\" onclick=\"startGame()\">üöÄ START MANAGING!</button>\n    </div>\n    \n    <div id=\"winScreen\" class=\"screen hidden\">\n        <div class=\"title\">üéâ CONVENTION SAVED! üéâ</div>\n        <div class=\"final-score\">Furries Hydrated: <span id=\"finalScore\">0</span></div>\n        <div class=\"twist-reveal\">\n            \"Great job out there, Dave!\" says your boss.<br>\n            \"You know, you're pretty good at this. Ever consider... joining the fandom?\"<br>\n            <br>\n            <em>You nervously laugh. You're definitely NOT a furry.<br>\n            ...Right?</em>\n        </div>\n        <button class=\"btn\" onclick=\"restartGame()\">üîÑ Play Again</button>\n    </div>\n    \n    <div id=\"loseScreen\" class=\"screen hidden\">\n        <div class=\"title\">üí• TOTAL CHAOS! üí•</div>\n        <div class=\"final-score\">Furries Hydrated: <span id=\"loseScore\">0</span></div>\n        <div class=\"twist-reveal\">\n            The convention descends into absolute mayhem.<br>\n            Security is called. The news arrives.<br>\n            Your boss sighs: \"Maybe next year, Dave.\"<br>\n            <br>\n            <em>At least you're still not a furry... officially.</em>\n        </div>\n        <button class=\"btn\" onclick=\"restartGame()\">üîÑ Try Again</button>\n    </div>\n    \n    <div id=\"hud\">\n        <div id=\"score\" class=\"hud-panel\">\n            <div class=\"hud-label\">Hydrated</div>\n            <div class=\"hud-value\"><span id=\"scoreValue\">0</span> / 25</div>\n        </div>\n        <div id=\"ammo\" class=\"hud-panel\">\n            <div class=\"hud-label\">Water Bottles</div>\n            <div class=\"hud-value\"><span id=\"ammoValue\">10</span> / 10</div>\n        </div>\n        <div id=\"chaos\" class=\"hud-panel\">\n            <div class=\"hud-label\">Chaos Level</div>\n            <div class=\"hud-value\"><span id=\"chaosValue\">0</span>%</div>\n        </div>\n    </div>\n    \n    <div id=\"chaosLabel\">‚ö†Ô∏è CONVENTION CHAOS METER ‚ö†Ô∏è</div>\n    <div id=\"chaosBar\"><div id=\"chaosBarFill\" style=\"width: 0%\"></div></div>\n    \n    <div id=\"furryCount\">üé≠ Active Furries: <span id=\"activeFurries\">0</span></div>\n    \n    <div id=\"crosshair\"></div>\n    <div id=\"damageFlash\"></div>\n    <div id=\"message\"></div>\n    \n    <canvas id=\"gameCanvas\"></canvas>\n\n    <script>\n        // Game state\n        let scene, camera, renderer;\n        let player = { x: 0, y: 2, z: 0, yaw: 0, pitch: 0, speed: 0.15 };\n        let keys = {};\n        let furries = [];\n        let projectiles = [];\n        let score = 0;\n        let chaos = 0;\n        let ammo = 10;\n        let maxAmmo = 10;\n        let gameRunning = false;\n        let gamePaused = false;\n        let targetScore = 25;\n        let reloading = false;\n        \n        // Furry types with colors and names\n        const furryTypes = [\n            { name: 'Wolf', color: 0x607d8b, earType: 'pointed', speed: 0.06 },\n            { name: 'Fox', color: 0xff7043, earType: 'pointed', speed: 0.08 },\n            { name: 'Cat', color: 0x9575cd, earType: 'pointed', speed: 0.07 },\n            { name: 'Dog', color: 0x8d6e63, earType: 'floppy', speed: 0.05 },\n            { name: 'Rabbit', color: 0xf48fb1, earType: 'long', speed: 0.09 },\n            { name: 'Dragon', color: 0x66bb6a, earType: 'horns', speed: 0.04 },\n            { name: 'Deer', color: 0xffcc80, earType: 'antlers', speed: 0.06 },\n            { name: 'Raccoon', color: 0x78909c, earType: 'round', speed: 0.07 },\n        ];\n        \n        // Initialize Three.js\n        function init() {\n            scene = new THREE.Scene();\n            scene.background = new THREE.Color(0x1a1a2e);\n            scene.fog = new THREE.Fog(0x1a1a2e, 20, 60);\n            \n            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);\n            camera.position.set(0, 2, 0);\n            \n            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('gameCanvas'), antialias: true });\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            renderer.shadowMap.enabled = true;\n            \n            // Lighting\n            const ambient = new THREE.AmbientLight(0x404060, 0.5);\n            scene.add(ambient);\n            \n            const mainLight = new THREE.DirectionalLight(0xffffff, 0.8);\n            mainLight.position.set(10, 20, 10);\n            mainLight.castShadow = true;\n            scene.add(mainLight);\n            \n            // Colored spotlights for con atmosphere\n            const colors = [0xff6b9d, 0x4ade80, 0x60a5fa, 0xfbbf24, 0xa78bfa];\n            colors.forEach((color, i) => {\n                const spot = new THREE.PointLight(color, 0.5, 30);\n                spot.position.set(\n                    Math.cos(i * Math.PI * 2 / colors.length) * 20,\n                    10,\n                    Math.sin(i * Math.PI * 2 / colors.length) * 20\n                );\n                scene.add(spot);\n            });\n            \n            createEnvironment();\n            \n            // Event listeners\n            document.addEventListener('keydown', (e) => {\n                keys[e.code] = true;\n                if (e.code === 'Escape' && gameRunning) togglePause();\n                if (e.code === 'KeyR' && gameRunning && !gamePaused && !reloading) reload();\n            });\n            document.addEventListener('keyup', (e) => keys[e.code] = false);\n            document.addEventListener('mousemove', onMouseMove);\n            document.addEventListener('click', shoot);\n            document.addEventListener('contextmenu', (e) => e.preventDefault());\n            window.addEventListener('resize', onResize);\n            \n            animate();\n        }\n        \n        function createEnvironment() {\n            // Floor - convention center carpet\n            const floorGeo = new THREE.PlaneGeometry(80, 80);\n            const floorMat = new THREE.MeshStandardMaterial({ \n                color: 0x2d3748,\n                roughness: 0.8\n            });\n            const floor = new THREE.Mesh(floorGeo, floorMat);\n            floor.rotation.x = -Math.PI / 2;\n            floor.receiveShadow = true;\n            scene.add(floor);\n            \n            // Carpet pattern\n            for (let x = -35; x <= 35; x += 5) {\n                for (let z = -35; z <= 35; z += 5) {\n                    if ((x + z) % 10 === 0) {\n                        const patternGeo = new THREE.PlaneGeometry(4.5, 4.5);\n                        const patternMat = new THREE.MeshStandardMaterial({ color: 0x3d4758 });\n                        const pattern = new THREE.Mesh(patternGeo, patternMat);\n                        pattern.rotation.x = -Math.PI / 2;\n                        pattern.position.set(x, 0.01, z);\n                        scene.add(pattern);\n                    }\n                }\n            }\n            \n            // Walls\n            const wallMat = new THREE.MeshStandardMaterial({ color: 0x374151 });\n            const wallHeight = 12;\n            \n            // Create walls with windows\n            const wallPositions = [\n                { x: 0, z: -40, rotY: 0 },\n                { x: 0, z: 40, rotY: Math.PI },\n                { x: -40, z: 0, rotY: Math.PI / 2 },\n                { x: 40, z: 0, rotY: -Math.PI / 2 }\n            ];\n            \n            wallPositions.forEach(pos => {\n                const wallGeo = new THREE.BoxGeometry(80, wallHeight, 1);\n                const wall = new THREE.Mesh(wallGeo, wallMat);\n                wall.position.set(pos.x, wallHeight / 2, pos.z);\n                wall.rotation.y = pos.rotY;\n                scene.add(wall);\n            });\n            \n            // Convention booths\n            for (let i = 0; i < 12; i++) {\n                const angle = (i / 12) * Math.PI * 2;\n                const radius = 15 + Math.random() * 10;\n                createBooth(\n                    Math.cos(angle) * radius,\n                    Math.sin(angle) * radius,\n                    furryTypes[i % furryTypes.length].color\n                );\n            }\n            \n            // Center stage\n            const stageGeo = new THREE.CylinderGeometry(8, 8, 1, 32);\n            const stageMat = new THREE.MeshStandardMaterial({ color: 0x6366f1 });\n            const stage = new THREE.Mesh(stageGeo, stageMat);\n            stage.position.y = 0.5;\n            scene.add(stage);\n            \n            // Stage decorations\n            const bannerGeo = new THREE.BoxGeometry(12, 4, 0.2);\n            const bannerMat = new THREE.MeshStandardMaterial({ color: 0xff6b9d });\n            const banner = new THREE.Mesh(bannerGeo, bannerMat);\n            banner.position.set(0, 8, 0);\n            scene.add(banner);\n            \n            // Pillars\n            for (let i = 0; i < 8; i++) {\n                const angle = (i / 8) * Math.PI * 2;\n                const pillar = createPillar();\n                pillar.position.set(Math.cos(angle) * 30, 0, Math.sin(angle) * 30);\n                scene.add(pillar);\n            }\n        }\n        \n        function createBooth(x, z, color) {\n            const group = new THREE.Group();\n            \n            // Table\n            const tableGeo = new THREE.BoxGeometry(4, 1, 2);\n            const tableMat = new THREE.MeshStandardMaterial({ color: 0x4b5563 });\n            const table = new THREE.Mesh(tableGeo, tableMat);\n            table.position.y = 0.5;\n            group.add(table);\n            \n            // Back wall\n            const backGeo = new THREE.BoxGeometry(4.5, 3, 0.2);\n            const backMat = new THREE.MeshStandardMaterial({ color: color });\n            const back = new THREE.Mesh(backGeo, backMat);\n            back.position.set(0, 2, -1);\n            group.add(back);\n            \n            group.position.set(x, 0, z);\n            group.rotation.y = Math.atan2(-x, -z);\n            scene.add(group);\n        }\n        \n        function createPillar() {\n            const group = new THREE.Group();\n            const pillarGeo = new THREE.CylinderGeometry(0.8, 1, 10, 8);\n            const pillarMat = new THREE.MeshStandardMaterial({ color: 0x6b7280 });\n            const pillar = new THREE.Mesh(pillarGeo, pillarMat);\n            pillar.position.y = 5;\n            pillar.castShadow = true;\n            group.add(pillar);\n            return group;\n        }\n        \n        function createFurry() {\n            const type = furryTypes[Math.floor(Math.random() * furryTypes.length)];\n            const group = new THREE.Group();\n            \n            // Body (cylinder + spheres for capsule shape)\n            const bodyMat = new THREE.MeshStandardMaterial({ color: type.color });\n            const bodyGeo = new THREE.CylinderGeometry(0.5, 0.5, 1.2, 16);\n            const body = new THREE.Mesh(bodyGeo, bodyMat);\n            body.position.y = 1.2;\n            body.castShadow = true;\n            group.add(body);\n            \n            // Body top sphere\n            const bodyTopGeo = new THREE.SphereGeometry(0.5, 16, 8);\n            const bodyTop = new THREE.Mesh(bodyTopGeo, bodyMat);\n            bodyTop.position.y = 1.8;\n            group.add(bodyTop);\n            \n            // Body bottom sphere\n            const bodyBotGeo = new THREE.SphereGeometry(0.5, 16, 8);\n            const bodyBot = new THREE.Mesh(bodyBotGeo, bodyMat);\n            bodyBot.position.y = 0.6;\n            group.add(bodyBot);\n            \n            // Head\n            const headGeo = new THREE.SphereGeometry(0.45, 16, 16);\n            const head = new THREE.Mesh(headGeo, bodyMat);\n            head.position.y = 2.3;\n            head.castShadow = true;\n            group.add(head);\n            \n            // Snout\n            const snoutGeo = new THREE.ConeGeometry(0.2, 0.4, 8);\n            const snout = new THREE.Mesh(snoutGeo, bodyMat);\n            snout.position.set(0, 2.2, 0.4);\n            snout.rotation.x = Math.PI / 2;\n            group.add(snout);\n            \n            // Eyes\n            const eyeGeo = new THREE.SphereGeometry(0.08, 8, 8);\n            const eyeMat = new THREE.MeshStandardMaterial({ color: 0xffffff, emissive: 0x666666 });\n            const leftEye = new THREE.Mesh(eyeGeo, eyeMat);\n            leftEye.position.set(-0.15, 2.4, 0.35);\n            group.add(leftEye);\n            const rightEye = new THREE.Mesh(eyeGeo, eyeMat);\n            rightEye.position.set(0.15, 2.4, 0.35);\n            group.add(rightEye);\n            \n            // Pupils\n            const pupilGeo = new THREE.SphereGeometry(0.04, 8, 8);\n            const pupilMat = new THREE.MeshStandardMaterial({ color: 0x000000 });\n            const leftPupil = new THREE.Mesh(pupilGeo, pupilMat);\n            leftPupil.position.set(-0.15, 2.4, 0.42);\n            group.add(leftPupil);\n            const rightPupil = new THREE.Mesh(pupilGeo, pupilMat);\n            rightPupil.position.set(0.15, 2.4, 0.42);\n            group.add(rightPupil);\n            \n            // Ears based on type\n            const earMat = new THREE.MeshStandardMaterial({ color: type.color });\n            if (type.earType === 'pointed') {\n                const earGeo = new THREE.ConeGeometry(0.15, 0.4, 4);\n                const leftEar = new THREE.Mesh(earGeo, earMat);\n                leftEar.position.set(-0.25, 2.7, 0);\n                leftEar.rotation.z = -0.3;\n                group.add(leftEar);\n                const rightEar = new THREE.Mesh(earGeo, earMat);\n                rightEar.position.set(0.25, 2.7, 0);\n                rightEar.rotation.z = 0.3;\n                group.add(rightEar);\n            } else if (type.earType === 'long') {\n                const earGeo = new THREE.CylinderGeometry(0.06, 0.1, 0.6, 8);\n                const leftEar = new THREE.Mesh(earGeo, earMat);\n                leftEar.position.set(-0.2, 2.9, -0.1);\n                leftEar.rotation.z = -0.2;\n                group.add(leftEar);\n                const rightEar = new THREE.Mesh(earGeo, earMat);\n                rightEar.position.set(0.2, 2.9, -0.1);\n                rightEar.rotation.z = 0.2;\n                group.add(rightEar);\n            } else if (type.earType === 'round') {\n                const earGeo = new THREE.SphereGeometry(0.15, 8, 8);\n                const leftEar = new THREE.Mesh(earGeo, earMat);\n                leftEar.position.set(-0.3, 2.65, 0);\n                group.add(leftEar);\n                const rightEar = new THREE.Mesh(earGeo, earMat);\n                rightEar.position.set(0.3, 2.65, 0);\n                group.add(rightEar);\n            } else if (type.earType === 'horns') {\n                const hornGeo = new THREE.ConeGeometry(0.08, 0.5, 6);\n                const hornMat = new THREE.MeshStandardMaterial({ color: 0x444444 });\n                const leftHorn = new THREE.Mesh(hornGeo, hornMat);\n                leftHorn.position.set(-0.2, 2.8, -0.1);\n                leftHorn.rotation.z = -0.4;\n                group.add(leftHorn);\n                const rightHorn = new THREE.Mesh(hornGeo, hornMat);\n                rightHorn.position.set(0.2, 2.8, -0.1);\n                rightHorn.rotation.z = 0.4;\n                group.add(rightHorn);\n            } else if (type.earType === 'antlers') {\n                const antlerMat = new THREE.MeshStandardMaterial({ color: 0x8b7355 });\n                [-1, 1].forEach(side => {\n                    const antler = new THREE.Group();\n                    const main = new THREE.CylinderGeometry(0.03, 0.05, 0.5, 6);\n                    const mainMesh = new THREE.Mesh(main, antlerMat);\n                    mainMesh.rotation.z = side * 0.5;\n                    antler.add(mainMesh);\n                    const branch = new THREE.CylinderGeometry(0.02, 0.03, 0.25, 6);\n                    const branchMesh = new THREE.Mesh(branch, antlerMat);\n                    branchMesh.position.set(side * 0.1, 0.15, 0);\n                    branchMesh.rotation.z = side * 0.8;\n                    antler.add(branchMesh);\n                    antler.position.set(side * 0.2, 2.75, -0.05);\n                    group.add(antler);\n                });\n            } else {\n                // Floppy ears\n                const earGeo = new THREE.SphereGeometry(0.2, 8, 8);\n                earGeo.scale(1, 1.5, 0.5);\n                const leftEar = new THREE.Mesh(earGeo, earMat);\n                leftEar.position.set(-0.4, 2.3, 0);\n                group.add(leftEar);\n                const rightEar = new THREE.Mesh(earGeo, earMat);\n                rightEar.position.set(0.4, 2.3, 0);\n                group.add(rightEar);\n            }\n            \n            // Tail\n            const tailGeo = new THREE.CylinderGeometry(0.1, 0.15, 0.5, 8);\n            const tail = new THREE.Mesh(tailGeo, earMat);\n            tail.position.set(0, 1, -0.5);\n            tail.rotation.x = 0.5;\n            group.add(tail);\n            \n            // Tail tip\n            const tailTipGeo = new THREE.SphereGeometry(0.12, 8, 8);\n            const tailTip = new THREE.Mesh(tailTipGeo, earMat);\n            tailTip.position.set(0, 1.2, -0.65);\n            group.add(tailTip);\n            \n            // Exclamation mark (showing they're hyped)\n            const exclamGeo = new THREE.CylinderGeometry(0.05, 0.05, 0.3, 8);\n            const exclamMat = new THREE.MeshStandardMaterial({ color: 0xfbbf24, emissive: 0xfbbf24, emissiveIntensity: 0.5 });\n            const exclam = new THREE.Mesh(exclamGeo, exclamMat);\n            exclam.position.set(0, 3.2, 0);\n            group.add(exclam);\n            const dotGeo = new THREE.SphereGeometry(0.06, 8, 8);\n            const dot = new THREE.Mesh(dotGeo, exclamMat);\n            dot.position.set(0, 2.95, 0);\n            group.add(dot);\n            \n            // Spawn position\n            const spawnAngle = Math.random() * Math.PI * 2;\n            const spawnDist = 25 + Math.random() * 10;\n            group.position.set(\n                Math.cos(spawnAngle) * spawnDist,\n                0,\n                Math.sin(spawnAngle) * spawnDist\n            );\n            \n            group.userData = {\n                type: type,\n                speed: type.speed * (0.8 + Math.random() * 0.4),\n                targetX: (Math.random() - 0.5) * 50,\n                targetZ: (Math.random() - 0.5) * 50,\n                changeTimer: Math.random() * 100,\n                bobPhase: Math.random() * Math.PI * 2\n            };\n            \n            scene.add(group);\n            furries.push(group);\n        }\n        \n        function createProjectile() {\n            const group = new THREE.Group();\n            \n            // Water bottle\n            const bottleGeo = new THREE.CylinderGeometry(0.08, 0.1, 0.3, 8);\n            const bottleMat = new THREE.MeshStandardMaterial({ \n                color: 0x60a5fa, \n                transparent: true, \n                opacity: 0.8,\n                emissive: 0x60a5fa,\n                emissiveIntensity: 0.3\n            });\n            const bottle = new THREE.Mesh(bottleGeo, bottleMat);\n            group.add(bottle);\n            \n            // Cap\n            const capGeo = new THREE.CylinderGeometry(0.05, 0.08, 0.08, 8);\n            const capMat = new THREE.MeshStandardMaterial({ color: 0xffffff });\n            const cap = new THREE.Mesh(capGeo, capMat);\n            cap.position.y = 0.18;\n            group.add(cap);\n            \n            // Trail particles\n            const trailGeo = new THREE.SphereGeometry(0.03, 8, 8);\n            const trailMat = new THREE.MeshStandardMaterial({ \n                color: 0x60a5fa, \n                transparent: true, \n                opacity: 0.5 \n            });\n            for (let i = 0; i < 3; i++) {\n                const trail = new THREE.Mesh(trailGeo, trailMat);\n                trail.position.set(\n                    (Math.random() - 0.5) * 0.1,\n                    -0.1 - i * 0.08,\n                    (Math.random() - 0.5) * 0.1\n                );\n                group.add(trail);\n            }\n            \n            return group;\n        }\n        \n        function shoot(e) {\n            if (!gameRunning || gamePaused || reloading) return;\n            if (e.button !== 0) return;\n            \n            if (ammo <= 0) {\n                showMessage(\"üîÑ Reloading...\");\n                reload();\n                return;\n            }\n            \n            ammo--;\n            updateHUD();\n            \n            const projectile = createProjectile();\n            projectile.position.copy(camera.position);\n            \n            // Get shooting direction\n            const direction = new THREE.Vector3();\n            camera.getWorldDirection(direction);\n            \n            projectile.userData = {\n                velocity: direction.multiplyScalar(1.5),\n                life: 100\n            };\n            \n            scene.add(projectile);\n            projectiles.push(projectile);\n            \n            // Auto reload when empty\n            if (ammo <= 0) {\n                setTimeout(() => {\n                    if (gameRunning && !gamePaused) reload();\n                }, 500);\n            }\n        }\n        \n        function reload() {\n            if (reloading || ammo === maxAmmo) return;\n            reloading = true;\n            showMessage(\"üîÑ Reloading...\");\n            \n            setTimeout(() => {\n                ammo = maxAmmo;\n                reloading = false;\n                updateHUD();\n                showMessage(\"‚úÖ Ready!\");\n                setTimeout(() => hideMessage(), 500);\n            }, 1000);\n        }\n        \n        function onMouseMove(e) {\n            if (!gameRunning || gamePaused) return;\n            if (document.pointerLockElement !== document.body) {\n                document.body.requestPointerLock();\n            }\n            \n            const sensitivity = 0.002;\n            player.yaw -= e.movementX * sensitivity;\n            player.pitch -= e.movementY * sensitivity;\n            player.pitch = Math.max(-Math.PI / 2 + 0.1, Math.min(Math.PI / 2 - 0.1, player.pitch));\n        }\n        \n        function updatePlayer() {\n            if (!gameRunning || gamePaused) return;\n            \n            const forward = new THREE.Vector3(\n                Math.sin(player.yaw),\n                0,\n                Math.cos(player.yaw)\n            );\n            const right = new THREE.Vector3(\n                Math.cos(player.yaw),\n                0,\n                -Math.sin(player.yaw)\n            );\n            \n            let moved = false;\n            if (keys['KeyW']) { player.x += forward.x * player.speed; player.z += forward.z * player.speed; moved = true; }\n            if (keys['KeyS']) { player.x -= forward.x * player.speed; player.z -= forward.z * player.speed; moved = true; }\n            if (keys['KeyA']) { player.x -= right.x * player.speed; player.z -= right.z * player.speed; moved = true; }\n            if (keys['KeyD']) { player.x += right.x * player.speed; player.z += right.z * player.speed; moved = true; }\n            \n            // Boundary\n            player.x = Math.max(-38, Math.min(38, player.x));\n            player.z = Math.max(-38, Math.min(38, player.z));\n            \n            // Head bob\n            if (moved) {\n                player.y = 2 + Math.sin(Date.now() * 0.01) * 0.05;\n            }\n            \n            camera.position.set(player.x, player.y, player.z);\n            camera.rotation.order = 'YXZ';\n            camera.rotation.y = player.yaw;\n            camera.rotation.x = player.pitch;\n        }\n        \n        function updateFurries() {\n            if (!gameRunning || gamePaused) return;\n            \n            furries.forEach(furry => {\n                const data = furry.userData;\n                \n                // Move toward target\n                const dx = data.targetX - furry.position.x;\n                const dz = data.targetZ - furry.position.z;\n                const dist = Math.sqrt(dx * dx + dz * dz);\n                \n                if (dist > 1) {\n                    furry.position.x += (dx / dist) * data.speed;\n                    furry.position.z += (dz / dist) * data.speed;\n                    furry.rotation.y = Math.atan2(dx, dz);\n                }\n                \n                // Change target periodically\n                data.changeTimer--;\n                if (data.changeTimer <= 0 || dist < 1) {\n                    data.targetX = (Math.random() - 0.5) * 60;\n                    data.targetZ = (Math.random() - 0.5) * 60;\n                    data.changeTimer = 100 + Math.random() * 200;\n                }\n                \n                // Bouncy animation\n                data.bobPhase += 0.1;\n                const bobOffset = Math.sin(data.bobPhase) * 0.1;\n                // Body parts bob together\n                if (furry.children[0]) furry.children[0].position.y = 1.2 + bobOffset;\n                if (furry.children[1]) furry.children[1].position.y = 1.8 + bobOffset;\n                if (furry.children[2]) furry.children[2].position.y = 0.6 + bobOffset;\n                if (furry.children[3]) furry.children[3].position.y = 2.3 + bobOffset;\n                \n                // Boundary\n                furry.position.x = Math.max(-35, Math.min(35, furry.position.x));\n                furry.position.z = Math.max(-35, Math.min(35, furry.position.z));\n            });\n            \n            // Chaos increases based on number of furries\n            if (furries.length > 3) {\n                chaos += 0.015 * (furries.length - 3);\n            }\n            \n            // Spawn more furries over time\n            if (Math.random() < 0.02 && furries.length < 15) {\n                createFurry();\n            }\n            \n            updateHUD();\n            \n            // Check lose condition\n            if (chaos >= 100) {\n                endGame(false);\n            }\n            \n            document.getElementById('activeFurries').textContent = furries.length;\n        }\n        \n        function updateProjectiles() {\n            if (!gameRunning || gamePaused) return;\n            \n            for (let i = projectiles.length - 1; i >= 0; i--) {\n                const proj = projectiles[i];\n                const data = proj.userData;\n                \n                proj.position.add(data.velocity);\n                proj.rotation.x += 0.2;\n                data.life--;\n                \n                // Check collision with furries\n                for (let j = furries.length - 1; j >= 0; j--) {\n                    const furry = furries[j];\n                    const dist = proj.position.distanceTo(furry.position.clone().add(new THREE.Vector3(0, 1.5, 0)));\n                    \n                    if (dist < 1.2) {\n                        // Hit!\n                        createHitEffect(furry.position);\n                        scene.remove(furry);\n                        furries.splice(j, 1);\n                        scene.remove(proj);\n                        projectiles.splice(i, 1);\n                        \n                        score++;\n                        chaos = Math.max(0, chaos - 5);\n                        \n                        showHitMarker();\n                        \n                        // Milestones\n                        if (score === 10) announce(\"üî• Halfway there!\");\n                        if (score === 20) announce(\"‚ö° Almost done!\");\n                        \n                        updateHUD();\n                        \n                        // Win condition\n                        if (score >= targetScore) {\n                            endGame(true);\n                        }\n                        break;\n                    }\n                }\n                \n                // Remove old projectiles\n                if (data.life <= 0 || proj.position.y < 0 || \n                    Math.abs(proj.position.x) > 45 || Math.abs(proj.position.z) > 45) {\n                    scene.remove(proj);\n                    projectiles.splice(i, 1);\n                }\n            }\n        }\n        \n        function createHitEffect(position) {\n            // Splash particles\n            for (let i = 0; i < 8; i++) {\n                const geo = new THREE.SphereGeometry(0.1, 8, 8);\n                const mat = new THREE.MeshStandardMaterial({ \n                    color: 0x60a5fa, \n                    transparent: true, \n                    opacity: 0.8 \n                });\n                const particle = new THREE.Mesh(geo, mat);\n                particle.position.copy(position);\n                particle.position.y += 1.5;\n                \n                particle.userData = {\n                    velocity: new THREE.Vector3(\n                        (Math.random() - 0.5) * 0.3,\n                        Math.random() * 0.3,\n                        (Math.random() - 0.5) * 0.3\n                    ),\n                    life: 30\n                };\n                \n                scene.add(particle);\n                \n                // Animate and remove\n                const animateParticle = () => {\n                    particle.position.add(particle.userData.velocity);\n                    particle.userData.velocity.y -= 0.02;\n                    particle.userData.life--;\n                    particle.material.opacity = particle.userData.life / 30;\n                    \n                    if (particle.userData.life > 0) {\n                        requestAnimationFrame(animateParticle);\n                    } else {\n                        scene.remove(particle);\n                    }\n                };\n                animateParticle();\n            }\n        }\n        \n        function showHitMarker() {\n            const marker = document.createElement('div');\n            marker.className = 'hit-marker';\n            marker.textContent = 'üíß';\n            document.body.appendChild(marker);\n            setTimeout(() => marker.remove(), 300);\n        }\n        \n        function announce(text) {\n            const ann = document.createElement('div');\n            ann.className = 'announcement';\n            ann.textContent = text;\n            document.body.appendChild(ann);\n            setTimeout(() => ann.remove(), 1500);\n        }\n        \n        function showMessage(text) {\n            const msg = document.getElementById('message');\n            msg.textContent = text;\n            msg.style.opacity = '1';\n        }\n        \n        function hideMessage() {\n            document.getElementById('message').style.opacity = '0';\n        }\n        \n        function updateHUD() {\n            document.getElementById('scoreValue').textContent = score;\n            document.getElementById('chaosValue').textContent = Math.floor(chaos);\n            document.getElementById('ammoValue').textContent = ammo;\n            document.getElementById('chaosBarFill').style.width = chaos + '%';\n            \n            // Color chaos bar based on level\n            const fill = document.getElementById('chaosBarFill');\n            if (chaos > 75) {\n                fill.style.background = 'linear-gradient(90deg, #f87171, #dc2626, #7f1d1d)';\n            } else if (chaos > 50) {\n                fill.style.background = 'linear-gradient(90deg, #fbbf24, #f87171, #dc2626)';\n            } else {\n                fill.style.background = 'linear-gradient(90deg, #4ade80, #fbbf24, #f87171)';\n            }\n        }\n        \n        function togglePause() {\n            gamePaused = !gamePaused;\n            if (gamePaused) {\n                showMessage(\"‚è∏Ô∏è PAUSED - Press ESC to continue\");\n            } else {\n                hideMessage();\n            }\n        }\n        \n        function startGame() {\n            document.getElementById('startScreen').classList.add('hidden');\n            \n            // Reset game state\n            score = 0;\n            chaos = 0;\n            ammo = maxAmmo;\n            player = { x: 0, y: 2, z: 0, yaw: 0, pitch: 0, speed: 0.15 };\n            \n            // Clear existing entities\n            furries.forEach(f => scene.remove(f));\n            furries = [];\n            projectiles.forEach(p => scene.remove(p));\n            projectiles = [];\n            \n            // Spawn initial furries\n            for (let i = 0; i < 5; i++) {\n                createFurry();\n            }\n            \n            gameRunning = true;\n            gamePaused = false;\n            updateHUD();\n            \n            document.body.requestPointerLock();\n        }\n        \n        function endGame(won) {\n            gameRunning = false;\n            document.exitPointerLock();\n            \n            if (won) {\n                document.getElementById('finalScore').textContent = score;\n                document.getElementById('winScreen').classList.remove('hidden');\n            } else {\n                document.getElementById('loseScore').textContent = score;\n                document.getElementById('loseScreen').classList.remove('hidden');\n            }\n        }\n        \n        function restartGame() {\n            document.getElementById('winScreen').classList.add('hidden');\n            document.getElementById('loseScreen').classList.add('hidden');\n            startGame();\n        }\n        \n        function onResize() {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        }\n        \n        function animate() {\n            requestAnimationFrame(animate);\n            \n            if (gameRunning && !gamePaused) {\n                updatePlayer();\n                updateFurries();\n                updateProjectiles();\n            }\n            \n            renderer.render(scene, camera);\n        }\n        \n        // Start\n        init();\n    </script>\n</body>\n</html>"
}
